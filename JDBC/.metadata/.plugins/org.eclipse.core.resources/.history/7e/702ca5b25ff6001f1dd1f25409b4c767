package homework;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SchoolOperation {

   
	
	
	
	
    private static final String URL = "jdbc:postgresql://localhost:5432/demo";
    private static final String USER = "postgres";
    private static final String PASSWORD = "pankaj123";

    public static void main(String[] args) {
      
        SchoolOperation schoolOperation = new SchoolOperation();

        
        schoolOperation.createStudent("pankaj",334323,"866785678");

//      
//        schoolOperation.readStudents();
//
//
//        schoolOperation.updateStudentGrade(1, "B");
//
//       
//        schoolOperation.deleteStudent(1);
    }

    
    
    
    
    public void createStudent(String name, double fees,String phn) {
        String sql = "INSERT INTO student VALUES (?, ?, ?)";

        try (Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);
             PreparedStatement pstmt = conn.prepareStatement(sql)) {

            pstmt.setString(1, name);
            pstmt.setDouble(2, fees);
            pstmt.setString(3, phn);
            pstmt.executeUpdate();
            System.out.println("Student created successfully!");

        } catch (SQLException e) {
            System.out.println("Error creating student: " + e.getMessage());
        }
    }

    
    
    
    
//    
//    public void readStudents() {
//        String sql = "SELECT * FROM student";
//
//        try (Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);
//             PreparedStatement pstmt = conn.prepareStatement(sql);
//             ResultSet rs = pstmt.executeQuery()) {
//
//            while (rs.next()) {
//                int id = rs.getInt("id");
//                String name = rs.getString("name");
//                int age = rs.getInt("age");
//                double fees = rs.getDouble("fees");
//
//                System.out.println("ID: " + id + ", Name: " + name + ", Age: " + age + ", Grade: " + fees);
//            }
//
//        } catch (SQLException e) {
//            System.out.println("Error reading students: " + e.getMessage());
//        }
//    }
//
//   
//    
//    
//    
//    
//    
//    public void updateStudentGrade(int id, String name, double fees,Long phn) {
//        String sql = "UPDATE student SET grade = ? WHERE id = ?";
//
//        try (Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);
//             PreparedStatement pstmt = conn.prepareStatement(sql)) {
//        	 pstmt.setInt(1, id);
//            pstmt.setString(2,name);
//           
//            int rowsUpdated = pstmt.executeUpdate();
//
//            if (rowsUpdated > 0) {
//                System.out.println("Student grade updated successfully!");
//            } else {
//                System.out.println("No student found with ID: " + id);
//            }
//
//        } catch (SQLException e) {
//            System.out.println("Error updating student grade: " + e.getMessage());
//        }
//    }
//
//    
//    
//    
//    
//    
//    public void deleteStudent(int id) {
//        String sql = "DELETE FROM student WHERE id = ?";
//
//        try (Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);
//             PreparedStatement pstmt = conn.prepareStatement(sql)) {
//
//            pstmt.setInt(1, id);
//            int rowsDeleted = pstmt.executeUpdate();
//
//            if (rowsDeleted > 0) {
//                System.out.println("Student deleted successfully!");
//            } else {
//                System.out.println("No student found with ID: " + id);
//            }
//
//        } catch (SQLException e) {
//            System.out.println("Error deleting student: " + e.getMessage());
//        }
    }
}